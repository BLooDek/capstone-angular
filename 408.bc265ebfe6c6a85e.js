"use strict";(self.webpackChunkcapstone_angular=self.webpackChunkcapstone_angular||[]).push([[408],{8408:(bt,F,s)=>{s.r(F),s.d(F,{NotebookModule:()=>_t});var f=s(6895),Q=s(4466),L=s(9116),r=s(1831),d=(()=>{return(e=d||(d={})).GET_NOTES_ACTION="[Notebook] Get Notes",e.GET_NOTES_ACTION_SUCCESS="[Notebook] Get Notes Success",e.GET_NOTES_ACTION_ERROR="[Notebook] Get Notes Error",e.ADD_NOTE_ACTION="[Notebook] Add Notes",e.ADD_NOTE_ACTION_SUCCESS="[Notebook] Add Notes Success",e.ADD_NOTE_ACTION_ERROR="[Notebook] Add Notes Error",e.DELETE_NOTE_ACTION="[Notebook] Delete Action",e.DELETE_NOTE_ACTION_SUCCESS="[Notebook] Delete Action Success",e.DELETE_NOTE_ACTION_ERROR="[Notebook] Delete Action Error",e.UPDATE_NOTE_ACTION="[Notebook] Update Action",e.UPDATE_NOTE_ACTION_SUCCESS="[Notebook] Update Action Success",e.UPDATE_NOTE_ACTION_ERROR="[Notebook] Update Action Error",d;var e})();const A=(0,r.PH)(d.GET_NOTES_ACTION),D=(0,r.PH)(d.GET_NOTES_ACTION_SUCCESS,(0,r.Ky)()),y=(0,r.PH)(d.GET_NOTES_ACTION_ERROR,(0,r.Ky)()),C=(0,r.PH)(d.ADD_NOTE_ACTION,(0,r.Ky)()),k=(0,r.PH)(d.ADD_NOTE_ACTION_SUCCESS,(0,r.Ky)()),U=(0,r.PH)(d.ADD_NOTE_ACTION_ERROR,(0,r.Ky)()),S=(0,r.PH)(d.UPDATE_NOTE_ACTION,(0,r.Ky)()),G=(0,r.PH)(d.UPDATE_NOTE_ACTION_SUCCESS,(0,r.Ky)()),P=(0,r.PH)(d.UPDATE_NOTE_ACTION_ERROR,(0,r.Ky)()),I=(0,r.PH)(d.DELETE_NOTE_ACTION,(0,r.Ky)()),O=(0,r.PH)(d.DELETE_NOTE_ACTION_SUCCESS,(0,r.Ky)()),$=(0,r.PH)(d.DELETE_NOTE_ACTION_ERROR,(0,r.Ky)()),Y=(0,r.Lq)({loading:!1,errors:!1,notes:null},(0,r.on)(A,C,e=>({...e,loading:!0})),(0,r.on)(k,(e,{note:i})=>({...e,loading:!1,notes:[i,...e.notes?e.notes:[]]})),(0,r.on)(D,(e,{notes:i})=>({...e,loading:!1,notes:i})),(0,r.on)(U,y,(e,i)=>({...e,loading:!1,errors:i.error})),(0,r.on)(G,(e,i)=>{const o=e.notes.map(n=>n.id===i.note.id?i.note:n);return{...e,loading:!1,notes:o}}),(0,r.on)(O,(e,i)=>{const o=e.notes.filter(n=>n.id!==i.note.id);return{...e,loading:!1,notes:o}})),M="notebook",j={notebook:Y},X=(0,r.ZF)(M),R=(0,r.P1)(X,e=>e.notebook),z=((0,r.P1)(R,e=>e.loading),(0,r.P1)(R,e=>e.errors),(0,r.P1)(R,e=>e.notes));var H=s(590),l=s(4006),T=s(8505),t=s(4650),c=s(5412),g=s(9549),J=s(284),E=s(4859),q=s(9602);let B=(()=>{class e{constructor(){this.propagateChange=o=>{}}get dateValue(){return this._dateValue}set dateValue(o){this._dateValue=o,this.propagateChange(this._dateValue)}addEvent(o,n){console.log(n.value),this.dateValue=n.value}writeValue(o){void 0!==o&&(this.dateValue=o)}registerOnChange(o){this.propagateChange=o}registerOnTouched(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-logging-date"]],inputs:{_dateValue:"_dateValue",title:"title"},features:[t._Bn([{provide:l.JU,useExisting:(0,t.Gpc)(()=>e),multi:!0}])],decls:5,vars:4,consts:[["matPrefix","",3,"for"],["matInput","",3,"matDatepicker","value","placeholder","dateInput"],["picker",""]],template:function(o,n){if(1&o&&(t.TgZ(0,"mat-form-field"),t._UZ(1,"mat-datepicker-toggle",0),t.TgZ(2,"input",1),t.NdJ("dateInput",function(N){return n.addEvent("input",N)}),t.qZA(),t._UZ(3,"mat-datepicker",null,2),t.qZA()),2&o){const a=t.MAs(4);t.xp6(1),t.Q6J("for",a),t.xp6(1),t.Q6J("matDatepicker",a)("value",n.dateValue)("placeholder",n.title)}},dependencies:[g.KE,g.qo,J.Nt,q.Mq,q.hl,q.nW]}),e})();function tt(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"required "),t.qZA())}function et(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"required "),t.qZA())}let ot=(()=>{class e{constructor(o,n,a){this._fb=o,this._store=n,this._dialogRef=a,this.formGroup=o.group({title:["",[l.kI.required]],body:["",[l.kI.required]],created_at:[new Date]})}get title(){return this.formGroup.get("title")}get body(){return this.formGroup.get("body")}onSubmit(){this._store.dispatch(C(this.formGroup.getRawValue())),this._dialogRef.close()}registerOnChange(o){this.formGroup.valueChanges.pipe((0,T.b)(n=>console.log(n))).subscribe(o)}registerOnTouched(o){}writeValue(o){o&&(console.log(o),this.formGroup.setValue(o))}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(l.qu),t.Y36(r.yh),t.Y36(c.so))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-add-note-dialog"]],features:[t._Bn([{provide:l.JU,useExisting:e,multi:!0}])],decls:20,vars:4,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"form",3,"formGroup","ngSubmit"],["floatLabel","always"],["formControlName","title","matInput","","cdkFocusInitial",""],[4,"ngIf"],["type","text","formControlName","body","matInput",""],["formControlName","created_at"],["mat-dialog-actions","","align","end"],["mat-button","","mat-dialog-close",""],["mat-button","","color","primary","type","submit",3,"disabled","click"]],template:function(o,n){1&o&&(t.TgZ(0,"h1",0),t._uU(1,"Add note"),t.qZA(),t.TgZ(2,"div",1)(3,"form",2),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(4,"mat-form-field",3)(5,"mat-label"),t._uU(6,"Title"),t.qZA(),t._UZ(7,"input",4),t.YNc(8,tt,2,0,"mat-error",5),t.qZA(),t.TgZ(9,"mat-form-field",3)(10,"mat-label"),t._uU(11,"body"),t.qZA(),t._UZ(12,"textarea",6),t.YNc(13,et,2,0,"mat-error",5),t.qZA(),t._UZ(14,"app-logging-date",7),t.qZA()(),t.TgZ(15,"div",8)(16,"button",9),t._uU(17,"Cancel"),t.qZA(),t.TgZ(18,"button",10),t.NdJ("click",function(){return n.onSubmit()}),t._uU(19,"Add"),t.qZA()()),2&o&&(t.xp6(3),t.Q6J("formGroup",n.formGroup),t.xp6(5),t.Q6J("ngIf",null==n.title?null:n.title.hasError("required")),t.xp6(5),t.Q6J("ngIf",n.body.hasError("required")),t.xp6(5),t.Q6J("disabled",n.formGroup.invalid||n.formGroup.untouched))},dependencies:[f.O5,c.ZT,c.uh,c.xY,c.H8,g.TO,g.KE,g.hX,J.Nt,E.lW,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,B],changeDetection:0}),e})(),nt=(()=>{class e{constructor(o){this.title=o}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(c.WI))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-confirm-delete-note"]],decls:9,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-actions","","align","end"],["type","button","mat-button","","mat-dialog-close",""],["type","button","mat-button","","color","warn","mat-dialog-close","true"]],template:function(o,n){1&o&&(t.TgZ(0,"h2",0),t._uU(1),t.qZA(),t.TgZ(2,"h3"),t._uU(3,"this can't be reversed"),t.qZA(),t.TgZ(4,"div",1)(5,"button",2),t._uU(6,"Cancel"),t.qZA(),t.TgZ(7,"button",3),t._uU(8," Delete "),t.qZA()()),2&o&&(t.xp6(1),t.hij("Are you sure you want to delete",n.title,""))},dependencies:[c.ZT,c.uh,c.H8,E.lW],changeDetection:0}),e})();function it(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"required "),t.qZA())}function rt(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"required "),t.qZA())}let at=(()=>{class e{constructor(o,n,a,N){this._fb=o,this._dialogRef=n,this.data=a,this._dialog=N,this.formGroup=o.group({id:[this.data.id],title:[this.data.title,[l.kI.required]],body:[this.data.body,[l.kI.required]],is_published:[this.data.is_published]})}get id(){return this.formGroup.get("id")}get title(){return this.formGroup.get("title")}get body(){return this.formGroup.get("body")}get is_published(){return this.formGroup.get("is_published")}onSubmit(){this._dialogRef.close(this.formGroup.getRawValue())}onDelete(){this._dialog.open(nt,{data:this.data.title}).afterClosed().pipe((0,H.P)()).subscribe(n=>{n&&this._dialogRef.close({...this.formGroup.getRawValue(),is_published:!1})})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(l.qu),t.Y36(c.so),t.Y36(c.WI),t.Y36(c.uw))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-edit-note-dialog"]],decls:21,vars:4,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"form",3,"formGroup","ngSubmit"],["floatLabel","always"],["formControlName","title","matInput","","placeholder","title","cdkFocusInitial",""],[4,"ngIf"],["type","text","formControlName","body","matInput","","placeholder","..."],["mat-dialog-actions","","align","end"],["type","button","mat-button","","mat-dialog-close",""],["type","button","mat-button","","color","warn",3,"click"],["mat-button","","type","submit","color","primary",3,"disabled","click"]],template:function(o,n){1&o&&(t.TgZ(0,"h1",0),t._uU(1,"Edit note"),t.qZA(),t.TgZ(2,"div",1)(3,"form",2),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(4,"mat-form-field",3)(5,"mat-label"),t._uU(6,"Title"),t.qZA(),t._UZ(7,"input",4),t.YNc(8,it,2,0,"mat-error",5),t.qZA(),t.TgZ(9,"mat-form-field",3)(10,"mat-label"),t._uU(11,"body"),t.qZA(),t._UZ(12,"textarea",6),t.YNc(13,rt,2,0,"mat-error",5),t.qZA()()(),t.TgZ(14,"div",7)(15,"button",8),t._uU(16,"Cancel"),t.qZA(),t.TgZ(17,"button",9),t.NdJ("click",function(){return n.onDelete()}),t._uU(18," Delete "),t.qZA(),t.TgZ(19,"button",10),t.NdJ("click",function(){return n.onSubmit()}),t._uU(20," Update "),t.qZA()()),2&o&&(t.xp6(3),t.Q6J("formGroup",n.formGroup),t.xp6(5),t.Q6J("ngIf",null==n.title?null:n.title.hasError("required")),t.xp6(5),t.Q6J("ngIf",n.body.hasError("required")),t.xp6(6),t.Q6J("disabled",n.formGroup.invalid||n.formGroup.untouched))},dependencies:[f.O5,c.ZT,c.uh,c.xY,c.H8,g.TO,g.KE,g.hX,J.Nt,E.lW,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u],changeDetection:0}),e})();var st=s(7392),h=s(3546);let lt=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-note-card"]],inputs:{item:"item"},decls:8,vars:6,template:function(o,n){1&o&&(t.TgZ(0,"mat-card")(1,"mat-card-title"),t._uU(2),t.qZA(),t.TgZ(3,"mat-card-subtitle"),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"mat-card-content"),t._uU(7),t.qZA()()),2&o&&(t.xp6(2),t.Oqu(n.item.title),t.xp6(2),t.Oqu(t.xi3(5,3,n.item.updated_at,"long")),t.xp6(3),t.Oqu(n.item.body))},dependencies:[h.a8,h.dn,h.n5,h.$j,f.uU],styles:["mat-card[_ngcontent-%COMP%]{width:70%;margin:auto;cursor:pointer}"],changeDetection:0}),e})();function ct(e,i){if(1&e){const o=t.EpF();t.TgZ(0,"div",2)(1,"mat-card",3)(2,"mat-card-title"),t._uU(3,"No content\u{1f97a}"),t.qZA(),t.TgZ(4,"mat-card-subtitle"),t._uU(5,"add something..."),t.qZA(),t.TgZ(6,"button",4),t.NdJ("click",function(){t.CHM(o);const a=t.oxw();return t.KtG(a.openAddDialog())}),t.TgZ(7,"mat-icon"),t._uU(8,"add_circle"),t.qZA()()()()}}function dt(e,i){if(1&e){const o=t.EpF();t.TgZ(0,"div")(1,"app-note-card",8),t.NdJ("click",function(){const N=t.CHM(o).$implicit,x=t.oxw(2);return t.KtG(x.openEdit(N))}),t.qZA()()}if(2&e){const o=i.$implicit;t.xp6(1),t.Q6J("item",o)}}function ut(e,i){if(1&e){const o=t.EpF();t.TgZ(0,"div",5)(1,"button",6),t.NdJ("click",function(){t.CHM(o);const a=t.oxw();return t.KtG(a.openAddDialog())}),t.TgZ(2,"mat-icon"),t._uU(3,"add_circle"),t.qZA()(),t.YNc(4,dt,2,1,"div",7),t.ALo(5,"async"),t.qZA()}if(2&e){const o=t.oxw();t.xp6(4),t.Q6J("ngForOf",t.lcZ(5,1,o.notes$))}}const pt=[{path:"",component:(()=>{class e{constructor(o,n){this._store=o,this._dialog=n,this._store.dispatch(A()),this.notes$=o.select(z)}openAddDialog(){this._dialog.open(ot)}ngOnInit(){}openEdit(o){this._dialog.open(at,{data:o}).afterClosed().pipe((0,H.P)()).subscribe(a=>{a&&a.is_published&&this._store.dispatch(S(a)),a&&!a.is_published&&this._store.dispatch(I(a))})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(r.yh),t.Y36(c.uw))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-notebook"]],decls:4,vars:4,consts:[["class","notebook-card",4,"ngIf","ngIfElse"],["notes",""],[1,"notebook-card"],[1,"no-content-container"],["mat-fab","","color","primary","aria-label","add notes button",3,"click"],[1,"content-container"],["mat-fab","","color","primary","aria-label","add notes button",1,"mat-fab-button-add",3,"click"],[4,"ngFor","ngForOf"],[3,"item","click"]],template:function(o,n){if(1&o&&(t.YNc(0,ct,9,0,"div",0),t.ALo(1,"async"),t.YNc(2,ut,6,3,"ng-template",null,1,t.W1O)),2&o){const a=t.MAs(3);t.Q6J("ngIf",!t.lcZ(1,2,n.notes$))("ngIfElse",a)}},dependencies:[f.sg,f.O5,st.Hw,h.a8,h.n5,h.$j,E.lW,lt,f.Ov],styles:[".notebook-card[_ngcontent-%COMP%]{min-height:calc(-4rem + 100vh);width:100%;display:flex;align-items:center;justify-content:center}.no-content-container[_ngcontent-%COMP%]{display:flex;justify-items:center;flex-direction:column;width:50%;align-items:center}.content-container[_ngcontent-%COMP%]{position:relative;margin-top:2rem;min-height:calc(-6rem + 100vh);width:100%;display:grid;grid-template-columns:1fr 1fr 1fr;justify-content:center;gap:1rem}.mat-fab-button-add[_ngcontent-%COMP%]{position:fixed;bottom:4rem;right:4rem;z-index:1000}"],changeDetection:0}),e})()}];let mt=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[L.Bz.forChild(pt),L.Bz]}),e})();var u=s(493),Z=s(3900),_=s(4004),b=s(262),v=s(9646),w=s(2843),V=s(2340),gt=s(529);let K=(()=>{class e{constructor(o){this._http=o}getNotes(){return this._http.get(`${V.N.API_URL}notes/`).pipe((0,_.U)(n=>n),(0,b.K)(n=>(0,w._)(()=>n)))}addNote(o){return this._http.post(`${V.N.API_URL}notes/`,o).pipe((0,_.U)(a=>a),(0,b.K)(a=>(0,w._)(()=>a)))}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(gt.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})();var ft=s(7550),ht=s(1014);let Nt=(()=>{class e{constructor(o,n,a,N,x){this._actions$=o,this._store=n,this._notebookService=a,this._spinnerService=N,this._snackService=x,this.getNotes$=(0,u.GW)(()=>this._actions$.pipe((0,u.l4)(A),(0,Z.w)(()=>this._notebookService.getNotes().pipe((0,_.U)(p=>D({notes:p})),(0,b.K)(p=>(0,v.of)(y(p))))))),this.addNote$=(0,u.GW)(()=>this._actions$.pipe((0,u.l4)(C),(0,Z.w)(p=>this._notebookService.addNote(p).pipe((0,_.U)(m=>k({note:m})),(0,b.K)(m=>(0,v.of)(U(m))))))),this.editNote$=(0,u.GW)(()=>this._actions$.pipe((0,u.l4)(S),(0,Z.w)(p=>this._notebookService.addNote(p).pipe((0,_.U)(m=>G({note:m})),(0,b.K)(m=>(0,v.of)(P(m))))))),this.deleteNote$=(0,u.GW)(()=>this._actions$.pipe((0,u.l4)(I),(0,Z.w)(p=>this._notebookService.addNote(p).pipe((0,_.U)(m=>O({note:m})),(0,b.K)(m=>(0,v.of)($(m))))))),this.enableSpinner$=(0,u.GW)(()=>this._actions$.pipe((0,u.l4)(C,A,S,I),(0,T.b)(()=>this._spinnerService.spinnerAttach())),{dispatch:!1}),this.disableSpinner$=(0,u.GW)(()=>this._actions$.pipe((0,u.l4)(P,G,D,y,k,U,O,$),(0,T.b)(()=>this._spinnerService.spinnerDetach()),(0,T.b)(p=>this._snackService.openSnackBar(p.type,"Ok"))),{dispatch:!1})}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(u.eX),t.LFG(r.yh),t.LFG(K),t.LFG(ft.V),t.LFG(ht.c))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})(),_t=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[K],imports:[f.ez,Q.m,mt,r.Aw.forFeature(M,j),u.sQ.forFeature([Nt])]}),e})()}}]);