"use strict";(self.webpackChunkcapstone_angular=self.webpackChunkcapstone_angular||[]).push([[112],{3112:(ht,J,s)=>{s.r(J),s.d(J,{NotebookModule:()=>Nt});var f=s(6895),K=s(4466),x=s(9116),r=s(1831),d=(()=>{return(o=d||(d={})).GET_NOTES_ACTION="[Notebook] Get Notes",o.GET_NOTES_ACTION_SUCCESS="[Notebook] Get Notes Success",o.GET_NOTES_ACTION_ERROR="[Notebook] Get Notes Error",o.ADD_NOTE_ACTION="[Notebook] Add Notes",o.ADD_NOTE_ACTION_SUCCESS="[Notebook] Add Notes Success",o.ADD_NOTE_ACTION_ERROR="[Notebook] Add Notes Error",o.DELETE_NOTE_ACTION="[Notebook] Delete Action",o.DELETE_NOTE_ACTION_SUCCESS="[Notebook] Delete Action Success",o.DELETE_NOTE_ACTION_ERROR="[Notebook] Delete Action Error",o.UPDATE_NOTE_ACTION="[Notebook] Update Action",o.UPDATE_NOTE_ACTION_SUCCESS="[Notebook] Update Action Success",o.UPDATE_NOTE_ACTION_ERROR="[Notebook] Update Action Error",d;var o})();const A=(0,r.PH)(d.GET_NOTES_ACTION),v=(0,r.PH)(d.GET_NOTES_ACTION_SUCCESS,(0,r.Ky)()),D=(0,r.PH)(d.GET_NOTES_ACTION_ERROR,(0,r.Ky)()),C=(0,r.PH)(d.ADD_NOTE_ACTION,(0,r.Ky)()),y=(0,r.PH)(d.ADD_NOTE_ACTION_SUCCESS,(0,r.Ky)()),k=(0,r.PH)(d.ADD_NOTE_ACTION_ERROR,(0,r.Ky)()),S=(0,r.PH)(d.UPDATE_NOTE_ACTION,(0,r.Ky)()),U=(0,r.PH)(d.UPDATE_NOTE_ACTION_SUCCESS,(0,r.Ky)()),q=(0,r.PH)(d.UPDATE_NOTE_ACTION_ERROR,(0,r.Ky)()),G=(0,r.PH)(d.DELETE_NOTE_ACTION,(0,r.Ky)()),R=(0,r.PH)(d.DELETE_NOTE_ACTION_SUCCESS,(0,r.Ky)()),L=(0,r.PH)(d.DELETE_NOTE_ACTION_ERROR,(0,r.Ky)()),Y=(0,r.Lq)({loading:!1,errors:!1,notes:null},(0,r.on)(A,C,o=>({...o,loading:!0})),(0,r.on)(y,(o,{note:i})=>({...o,loading:!1,notes:[i,...o.notes?o.notes:[]]})),(0,r.on)(v,(o,{notes:i})=>({...o,loading:!1,notes:i})),(0,r.on)(k,D,(o,i)=>({...o,loading:!1,errors:i.error})),(0,r.on)(U,(o,i)=>{const e=o.notes.map(n=>n.id===i.note.id?i.note:n);return{...o,loading:!1,notes:e}}),(0,r.on)(R,(o,i)=>{const e=o.notes.filter(n=>n.id!==i.note.id);return{...o,loading:!1,notes:e}})),$="notebook",Q={notebook:Y},j=(0,r.ZF)($),I=(0,r.P1)(j,o=>o.notebook),X=((0,r.P1)(I,o=>o.loading),(0,r.P1)(I,o=>o.errors),(0,r.P1)(I,o=>o.notes));var P=s(590),c=s(4006),t=s(4650),l=s(5412),N=s(9549),H=s(284),T=s(4859);function z(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"required "),t.qZA())}function V(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"required "),t.qZA())}let B=(()=>{class o{constructor(e,n,a){this._fb=e,this._store=n,this._dialogRef=a,this.formGroup=e.group({title:["",[c.kI.required]],body:["",[c.kI.required]]})}ngOnInit(){}onSubmit(){this._store.dispatch(C(this.formGroup.getRawValue())),this._dialogRef.close()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(c.qu),t.Y36(r.yh),t.Y36(l.so))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-add-note-dialog"]],decls:19,vars:4,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"form",3,"formGroup","ngSubmit"],["floatLabel","always"],["formControlName","title","matInput","","placeholder","title","cdkFocusInitial",""],[4,"ngIf"],["type","text","formControlName","body","matInput","","placeholder","..."],["mat-dialog-actions","","align","end"],["mat-button","","mat-dialog-close",""],["mat-button","","color","primary","type","submit",3,"disabled","click"]],template:function(e,n){if(1&e&&(t.TgZ(0,"h1",0),t._uU(1,"Add note"),t.qZA(),t.TgZ(2,"div",1)(3,"form",2),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(4,"mat-form-field",3)(5,"mat-label"),t._uU(6,"Title"),t.qZA(),t._UZ(7,"input",4),t.YNc(8,z,2,0,"mat-error",5),t.qZA(),t.TgZ(9,"mat-form-field",3)(10,"mat-label"),t._uU(11,"body"),t.qZA(),t._UZ(12,"textarea",6),t.YNc(13,V,2,0,"mat-error",5),t.qZA()()(),t.TgZ(14,"div",7)(15,"button",8),t._uU(16,"Cancel"),t.qZA(),t.TgZ(17,"button",9),t.NdJ("click",function(){return n.onSubmit()}),t._uU(18,"Add"),t.qZA()()),2&e){let a;t.xp6(3),t.Q6J("formGroup",n.formGroup),t.xp6(5),t.Q6J("ngIf",null==n.formGroup||null==(a=n.formGroup.get("title"))?null:a.hasError("required")),t.xp6(5),t.Q6J("ngIf",n.formGroup.get("body").hasError("required")),t.xp6(4),t.Q6J("disabled",n.formGroup.invalid||n.formGroup.untouched)}},dependencies:[f.O5,l.ZT,l.uh,l.xY,l.H8,N.TO,N.KE,N.hX,H.Nt,T.lW,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u],changeDetection:0}),o})(),tt=(()=>{class o{constructor(e){this.title=e}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(l.WI))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-confirm-delete-note"]],decls:9,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-actions","","align","end"],["type","button","mat-button","","mat-dialog-close",""],["type","button","mat-button","","color","warn","mat-dialog-close","true"]],template:function(e,n){1&e&&(t.TgZ(0,"h2",0),t._uU(1),t.qZA(),t.TgZ(2,"h3"),t._uU(3,"this can't be reversed"),t.qZA(),t.TgZ(4,"div",1)(5,"button",2),t._uU(6,"Cancel"),t.qZA(),t.TgZ(7,"button",3),t._uU(8," Delete "),t.qZA()()),2&e&&(t.xp6(1),t.hij("Are you sure you want to delete",n.title,""))},dependencies:[l.ZT,l.uh,l.H8,T.lW],changeDetection:0}),o})();function ot(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"required "),t.qZA())}function et(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"required "),t.qZA())}let nt=(()=>{class o{constructor(e,n,a,b){this._fb=e,this._dialogRef=n,this.data=a,this._dialog=b,this.formGroup=e.group({id:[this.data.id],title:[this.data.title,[c.kI.required]],body:[this.data.body,[c.kI.required]],is_published:[this.data.is_published]})}onSubmit(){this._dialogRef.close(this.formGroup.getRawValue())}onDelete(){this._dialog.open(tt,{data:this.data.title}).afterClosed().pipe((0,P.P)()).subscribe(n=>{n&&this._dialogRef.close({...this.formGroup.getRawValue(),is_published:!1})})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(c.qu),t.Y36(l.so),t.Y36(l.WI),t.Y36(l.uw))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-edit-note-dialog"]],decls:21,vars:4,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"form",3,"formGroup","ngSubmit"],["floatLabel","always"],["formControlName","title","matInput","","placeholder","title","cdkFocusInitial",""],[4,"ngIf"],["type","text","formControlName","body","matInput","","placeholder","..."],["mat-dialog-actions","","align","end"],["type","button","mat-button","","mat-dialog-close",""],["type","button","mat-button","","color","warn",3,"click"],["mat-button","","type","submit","color","primary",3,"disabled","click"]],template:function(e,n){if(1&e&&(t.TgZ(0,"h1",0),t._uU(1,"Edit note"),t.qZA(),t.TgZ(2,"div",1)(3,"form",2),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(4,"mat-form-field",3)(5,"mat-label"),t._uU(6,"Title"),t.qZA(),t._UZ(7,"input",4),t.YNc(8,ot,2,0,"mat-error",5),t.qZA(),t.TgZ(9,"mat-form-field",3)(10,"mat-label"),t._uU(11,"body"),t.qZA(),t._UZ(12,"textarea",6),t.YNc(13,et,2,0,"mat-error",5),t.qZA()()(),t.TgZ(14,"div",7)(15,"button",8),t._uU(16,"Cancel"),t.qZA(),t.TgZ(17,"button",9),t.NdJ("click",function(){return n.onDelete()}),t._uU(18," Delete "),t.qZA(),t.TgZ(19,"button",10),t.NdJ("click",function(){return n.onSubmit()}),t._uU(20," Update "),t.qZA()()),2&e){let a;t.xp6(3),t.Q6J("formGroup",n.formGroup),t.xp6(5),t.Q6J("ngIf",null==n.formGroup||null==(a=n.formGroup.get("title"))?null:a.hasError("required")),t.xp6(5),t.Q6J("ngIf",n.formGroup.get("body").hasError("required")),t.xp6(6),t.Q6J("disabled",n.formGroup.invalid||n.formGroup.untouched)}},dependencies:[f.O5,l.ZT,l.uh,l.xY,l.H8,N.TO,N.KE,N.hX,H.Nt,T.lW,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u],changeDetection:0}),o})();var it=s(7392),g=s(3546);let rt=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-note-card"]],inputs:{item:"item"},decls:8,vars:6,template:function(e,n){1&e&&(t.TgZ(0,"mat-card")(1,"mat-card-title"),t._uU(2),t.qZA(),t.TgZ(3,"mat-card-subtitle"),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"mat-card-content"),t._uU(7),t.qZA()()),2&e&&(t.xp6(2),t.Oqu(n.item.title),t.xp6(2),t.Oqu(t.xi3(5,3,n.item.updated_at,"long")),t.xp6(3),t.Oqu(n.item.body))},dependencies:[g.a8,g.dn,g.n5,g.$j,f.uU],styles:["mat-card[_ngcontent-%COMP%]{width:70%;margin:auto;cursor:pointer}"],changeDetection:0}),o})();function at(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"div",2)(1,"mat-card",3)(2,"mat-card-title"),t._uU(3,"No content\u{1f97a}"),t.qZA(),t.TgZ(4,"mat-card-subtitle"),t._uU(5,"add something..."),t.qZA(),t.TgZ(6,"button",4),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.openAddDialog())}),t.TgZ(7,"mat-icon"),t._uU(8,"add_circle"),t.qZA()()()()}}function st(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"app-note-card",8),t.NdJ("click",function(){const b=t.CHM(e).$implicit,F=t.oxw(2);return t.KtG(F.openEdit(b))}),t.qZA()()}if(2&o){const e=i.$implicit;t.xp6(1),t.Q6J("item",e)}}function ct(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"div",5)(1,"button",6),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.openAddDialog())}),t.TgZ(2,"mat-icon"),t._uU(3,"add_circle"),t.qZA()(),t.YNc(4,st,2,1,"div",7),t.ALo(5,"async"),t.qZA()}if(2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",t.lcZ(5,1,e.notes$))}}const lt=[{path:"",component:(()=>{class o{constructor(e,n){this._store=e,this._dialog=n,this._store.dispatch(A()),this.notes$=e.select(X)}openAddDialog(){this._dialog.open(B)}ngOnInit(){}openEdit(e){this._dialog.open(nt,{data:e}).afterClosed().pipe((0,P.P)()).subscribe(a=>{a&&a.is_published&&this._store.dispatch(S(a)),a&&!a.is_published&&this._store.dispatch(G(a))})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(r.yh),t.Y36(l.uw))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-notebook"]],decls:4,vars:4,consts:[["class","notebook-card",4,"ngIf","ngIfElse"],["notes",""],[1,"notebook-card"],[1,"no-content-container"],["mat-fab","","color","primary","aria-label","add notes button",3,"click"],[1,"content-container"],["mat-fab","","color","primary","aria-label","add notes button",1,"mat-fab-button-add",3,"click"],[4,"ngFor","ngForOf"],[3,"item","click"]],template:function(e,n){if(1&e&&(t.YNc(0,at,9,0,"div",0),t.ALo(1,"async"),t.YNc(2,ct,6,3,"ng-template",null,1,t.W1O)),2&e){const a=t.MAs(3);t.Q6J("ngIf",!t.lcZ(1,2,n.notes$))("ngIfElse",a)}},dependencies:[f.sg,f.O5,it.Hw,g.a8,g.n5,g.$j,T.lW,rt,f.Ov],styles:[".notebook-card[_ngcontent-%COMP%]{min-height:calc(-4rem + 100vh);width:100%;display:flex;align-items:center;justify-content:center}.no-content-container[_ngcontent-%COMP%]{display:flex;justify-items:center;flex-direction:column;width:50%;align-items:center}.content-container[_ngcontent-%COMP%]{position:relative;margin-top:2rem;min-height:calc(-6rem + 100vh);width:100%;display:grid;grid-template-columns:1fr 1fr 1fr;justify-content:center;gap:1rem}.mat-fab-button-add[_ngcontent-%COMP%]{position:fixed;bottom:4rem;right:4rem;z-index:1000}"],changeDetection:0}),o})()}];let dt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[x.Bz.forChild(lt),x.Bz]}),o})();var u=s(493),E=s(3900),h=s(4004),_=s(262),Z=s(9646),O=s(8505),M=s(2843),ut=s(529),mt=s(6004);let w=(()=>{class o{constructor(e,n){this._http=e,this._const=n}getNotes(){return this._http.get(`${this._const.API_URL}notes/`).pipe((0,h.U)(n=>n),(0,_.K)(n=>(0,M._)(()=>n)))}addNote(e){return this._http.post(`${this._const.API_URL}notes/`,e).pipe((0,h.U)(a=>a),(0,_.K)(a=>(0,M._)(()=>a)))}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(ut.eN),t.LFG(mt.W))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})();var pt=s(7550),ft=s(1014);let gt=(()=>{class o{constructor(e,n,a,b,F){this._actions$=e,this._store=n,this._notebookService=a,this._spinnerService=b,this._snackService=F,this.getNotes$=(0,u.GW)(()=>this._actions$.pipe((0,u.l4)(A),(0,E.w)(()=>this._notebookService.getNotes().pipe((0,h.U)(m=>v({notes:m})),(0,_.K)(m=>(0,Z.of)(D(m))))))),this.addNote$=(0,u.GW)(()=>this._actions$.pipe((0,u.l4)(C),(0,E.w)(m=>this._notebookService.addNote(m).pipe((0,h.U)(p=>y({note:p})),(0,_.K)(p=>(0,Z.of)(k(p))))))),this.editNote$=(0,u.GW)(()=>this._actions$.pipe((0,u.l4)(S),(0,E.w)(m=>this._notebookService.addNote(m).pipe((0,h.U)(p=>U({note:p})),(0,_.K)(p=>(0,Z.of)(q(p))))))),this.deleteNote$=(0,u.GW)(()=>this._actions$.pipe((0,u.l4)(G),(0,E.w)(m=>this._notebookService.addNote(m).pipe((0,h.U)(p=>R({note:p})),(0,_.K)(p=>(0,Z.of)(L(p))))))),this.enableSpinner$=(0,u.GW)(()=>this._actions$.pipe((0,u.l4)(C,A,S,G),(0,O.b)(()=>this._spinnerService.spinnerAttach())),{dispatch:!1}),this.disableSpinner$=(0,u.GW)(()=>this._actions$.pipe((0,u.l4)(q,U,v,D,y,k,R,L),(0,O.b)(()=>this._spinnerService.spinnerDetach()),(0,O.b)(m=>this._snackService.openSnackBar(m.type,"Ok"))),{dispatch:!1})}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(u.eX),t.LFG(r.yh),t.LFG(w),t.LFG(pt.V),t.LFG(ft.c))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})(),Nt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[w],imports:[f.ez,K.m,dt,r.Aw.forFeature($,Q),u.sQ.forFeature([gt])]}),o})()}}]);