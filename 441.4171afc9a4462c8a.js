"use strict";(self.webpackChunkcapstone_angular=self.webpackChunkcapstone_angular||[]).push([[441],{4441:(no,y,i)=>{i.r(y),i.d(y,{NotebookModule:()=>to});var m=i(6895),_=i(4466),Z=i(9116),n=i(1831),l=(()=>{return(t=l||(l={})).GET_NOTES_ACTION="[NOTEBOOK] Get Notes",t.GET_NOTES_ACTION_SUCCESS="[NOTEBOOK] Get Notes Success",t.GET_NOTES_ACTION_ERROR="[NOTEBOOK] Get Notes Error",t.ADD_NOTE_ACTION="[NOTEBOOK] Add Notes",t.ADD_NOTE_ACTION_SUCCESS="[NOTEBOOK] Add Notes Success",t.ADD_NOTE_ACTION_ERROR="[NOTEBOOK] Add Notes Error",l;var t})();const f=(0,n.PH)(l.GET_NOTES_ACTION),A=(0,n.PH)(l.GET_NOTES_ACTION_SUCCESS,(0,n.Ky)()),T=(0,n.PH)(l.GET_NOTES_ACTION_ERROR,(0,n.Ky)()),N=(0,n.PH)(l.ADD_NOTE_ACTION,(0,n.Ky)()),v=(0,n.PH)(l.ADD_NOTE_ACTION_SUCCESS,(0,n.Ky)()),b=(0,n.PH)(l.ADD_NOTE_ACTION_ERROR,(0,n.Ky)()),K=(0,n.Lq)({loading:!1,errors:!1,notes:null},(0,n.on)(f,N,t=>({...t,loading:!0})),(0,n.on)(v,(t,{note:s})=>({...t,loading:!1,notes:[s,...t.notes?t.notes:[]]})),(0,n.on)(A,(t,{notes:s})=>({...t,loading:!1,notes:s})),(0,n.on)(b,T,(t,s)=>({...t,loading:!1,errors:s.error}))),G="notebook",x={notebook:K},J=(0,n.ZF)(G),O=(0,n.P1)(J,t=>t.notebook),L=((0,n.P1)(O,t=>t.loading),(0,n.P1)(O,t=>t.errors),(0,n.P1)(O,t=>t.notes));var d=i(4006),o=i(4650),u=i(5412),E=i(9549),M=i(284),D=i(4859);function Y(t,s){1&t&&(o.TgZ(0,"mat-error"),o._uU(1,"required "),o.qZA())}function P(t,s){1&t&&(o.TgZ(0,"mat-error"),o._uU(1,"required "),o.qZA())}let H=(()=>{class t{constructor(e,r,c){this._fb=e,this._store=r,this._dialogRef=c,this.formGroup=e.group({title:["",[d.kI.required]],body:["",[d.kI.required]]})}ngOnInit(){}onSubmit(){this._store.dispatch(N(this.formGroup.getRawValue())),this._dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(d.qu),o.Y36(n.yh),o.Y36(u.so))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-add-note-dialog"]],decls:19,vars:4,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"form",3,"formGroup","ngSubmit"],["floatLabel","always"],["formControlName","title","matInput","","placeholder","title","cdkFocusInitial",""],[4,"ngIf"],["type","text","formControlName","body","matInput","","placeholder","..."],["mat-dialog-actions","","align","end"],["mat-button","","mat-dialog-close",""],["mat-button","","color","primary","type","submit",3,"disabled","click"]],template:function(e,r){if(1&e&&(o.TgZ(0,"h1",0),o._uU(1,"Add note"),o.qZA(),o.TgZ(2,"div",1)(3,"form",2),o.NdJ("ngSubmit",function(){return r.onSubmit()}),o.TgZ(4,"mat-form-field",3)(5,"mat-label"),o._uU(6,"Title"),o.qZA(),o._UZ(7,"input",4),o.YNc(8,Y,2,0,"mat-error",5),o.qZA(),o.TgZ(9,"mat-form-field",3)(10,"mat-label"),o._uU(11,"body"),o.qZA(),o._UZ(12,"textarea",6),o.YNc(13,P,2,0,"mat-error",5),o.qZA()()(),o.TgZ(14,"div",7)(15,"button",8),o._uU(16,"Cancel"),o.qZA(),o.TgZ(17,"button",9),o.NdJ("click",function(){return r.onSubmit()}),o._uU(18,"Add"),o.qZA()()),2&e){let c;o.xp6(3),o.Q6J("formGroup",r.formGroup),o.xp6(5),o.Q6J("ngIf",null==r.formGroup||null==(c=r.formGroup.get("title"))?null:c.hasError("required")),o.xp6(5),o.Q6J("ngIf",r.formGroup.get("body").hasError("required")),o.xp6(4),o.Q6J("disabled",r.formGroup.invalid||r.formGroup.untouched)}},dependencies:[m.O5,u.ZT,u.uh,u.xY,u.H8,E.TO,E.KE,E.hX,M.Nt,D.lW,d._Y,d.Fj,d.JJ,d.JL,d.sg,d.u],changeDetection:0}),t})();var W=i(7392),C=i(3546);function B(t,s){if(1&t){const e=o.EpF();o.TgZ(0,"div",2)(1,"mat-card",3)(2,"mat-card-title"),o._uU(3,"No content\u{1f97a}"),o.qZA(),o.TgZ(4,"mat-card-subtitle"),o._uU(5,"add something..."),o.qZA(),o.TgZ(6,"button",4),o.NdJ("click",function(){o.CHM(e);const c=o.oxw();return o.KtG(c.openAddDialog())}),o.TgZ(7,"mat-icon"),o._uU(8,"add_circle"),o.qZA()()()()}}function Q(t,s){if(1&t&&(o.TgZ(0,"div")(1,"h1"),o._uU(2),o.qZA(),o.TgZ(3,"p"),o._uU(4),o.qZA()()),2&t){const e=s.$implicit;o.xp6(2),o.Oqu(e.title),o.xp6(2),o.Oqu(e.body)}}function j(t,s){if(1&t&&(o.YNc(0,Q,5,2,"div",5),o.ALo(1,"async")),2&t){const e=o.oxw();o.Q6J("ngForOf",o.lcZ(1,1,e.notes$))}}const z=[{path:"",component:(()=>{class t{constructor(e,r){this._store=e,this._dialog=r,this._store.dispatch(f()),this.notes$=e.select(L)}openAddDialog(){this._dialog.open(H)}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(n.yh),o.Y36(u.uw))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-notebook"]],decls:4,vars:4,consts:[["class","notebook-card",4,"ngIf","ngIfElse"],["notes",""],[1,"notebook-card"],[1,"no-content-container"],["mat-fab","","color","primary","aria-label","add notes button",3,"click"],[4,"ngFor","ngForOf"]],template:function(e,r){if(1&e&&(o.YNc(0,B,9,0,"div",0),o.ALo(1,"async"),o.YNc(2,j,2,3,"ng-template",null,1,o.W1O)),2&e){const c=o.MAs(3);o.Q6J("ngIf",!o.lcZ(1,2,r.notes$))("ngIfElse",c)}},dependencies:[m.sg,m.O5,W.Hw,C.a8,C.n5,C.$j,D.lW,m.Ov],styles:[".notebook-card[_ngcontent-%COMP%]{min-height:calc(-4rem + 100vh);width:100%;display:flex;align-items:center;justify-content:center}.no-content-container[_ngcontent-%COMP%]{display:flex;justify-items:center;flex-direction:column;width:50%;align-items:center}"],changeDetection:0}),t})()}];let X=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[Z.Bz.forChild(z),Z.Bz]}),t})();var a=i(493),k=i(3900),g=i(4004),h=i(262),I=i(9646),U=i(8505),R=i(2843),V=i(529),q=i(6004);let F=(()=>{class t{constructor(e,r){this._http=e,this._const=r}getNotes(){return this._http.get(`${this._const.API_URL}notes/`).pipe((0,g.U)(r=>r),(0,h.K)(r=>(0,R._)(()=>r)))}addNote(e){return this._http.post(`${this._const.API_URL}notes/`,e).pipe((0,g.U)(c=>c),(0,h.K)(c=>(0,R._)(()=>c)))}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(V.eN),o.LFG(q.W))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();var w=i(7550);let oo=(()=>{class t{constructor(e,r,c,eo){this._actions$=e,this._store=r,this._notebookService=c,this._spinnerService=eo,this.getNotes$=(0,a.GW)(()=>this._actions$.pipe((0,a.l4)(f),(0,k.w)(()=>this._notebookService.getNotes().pipe((0,g.U)(p=>A({notes:p})),(0,h.K)(p=>(0,I.of)(T(p))))))),this.addNote$=(0,a.GW)(()=>this._actions$.pipe((0,a.l4)(N),(0,k.w)(p=>this._notebookService.addNote(p).pipe((0,g.U)(S=>v({note:S})),(0,h.K)(S=>(0,I.of)(b(S))))))),this.enableSpinner$=(0,a.GW)(()=>this._actions$.pipe((0,a.l4)(N,f),(0,U.b)(()=>this._spinnerService.spinnerAttach())),{dispatch:!1}),this.disableSpinner$=(0,a.GW)(()=>this._actions$.pipe((0,a.l4)(A,T,v,b),(0,U.b)(()=>this._spinnerService.spinnerDetach())),{dispatch:!1})}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(a.eX),o.LFG(n.yh),o.LFG(F),o.LFG(w.V))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),to=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[F],imports:[m.ez,_.m,X,n.Aw.forFeature(G,x),a.sQ.forFeature([oo])]}),t})()}}]);